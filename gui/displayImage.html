<!DOCTYPE html>
<html>
  <body>
      <div id="page-wrapper">

        <h1>Text File Reader</h1>
        <div>
          Select a text file: 
          <input type="file" id="fileInput">
        </div>
        <pre id="fileDisplayArea"></pre>
        <div id="imageDisplayArea"></div>
        
      </div>
      
      <script>
        window.onload = function() {
		      var fileInput = document.getElementById('fileInput');
		      var fileDisplayArea = document.getElementById('fileDisplayArea');

		      fileInput.addEventListener('change', function(e) {
			      var file = fileInput.files[0];
			      var textType = /text.*/;

			      if (file.type.match(textType)) {
				      var reader = new FileReader();

				      reader.onload = function(e) {
					      fileDisplayArea.innerText = reader.result;
                
                var img = document.createElement("img");
                img.setAttribute('src', 'data:image/png;base64, ' + reader.result);
                var target = document.getElementById("imageDisplayArea");
                target.appendChild(img);
				      }

				      reader.readAsText(file);	
			        } else {
				        fileDisplayArea.innerText = "File not supported!"
			        }
		        });
          }
      </script>

  </body>
</html>
